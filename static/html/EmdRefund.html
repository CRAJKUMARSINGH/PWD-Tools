<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hand Receipt (RPWA 28)</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
        }

        .container {
            width: 100%;
            max-width: 900px;
            min-height: auto;
            margin: 20px auto;
            border: 1px solid #e1e8e3;
            padding: 24px;
            box-sizing: border-box;
            position: relative;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
        }

        .header {
            text-align: center;
            margin-bottom: 10px;
            color: #2E8B57;
        }

        .details {
            margin-bottom: 1px;
        }

        .amount-words {
            font-style: italic;
        }

        .signature-area {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .signature-area td, .signature-area th {
            border: 1px solid #ccc;
            padding: 5px;
            text-align: left;
        }

        .offices {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .offices td, .offices th {
            border: 1px solid black;
            padding: 5px;
            text-align: left;
            word-wrap: break-word;
        }

        .input-field {
            border-bottom: 1px dotted #ccc;
            padding: 3px;
            width: calc(100% - 10px);
            display: inline-block;
        }

        @media print {
            @page {
                size: A4 portrait;
                margin: 0;
            }

            body {
                margin: 0;
                padding: 0;
            }

            .container {
                border: none;
                width: 210mm;
                min-height: 297mm;
                margin: 0;
                padding: 20mm;
                box-sizing: border-box;
            }

            #prompt-container {
                display: none !important;
            }

            .input-field {
                border: none;
            }
        }

        .seal-container {
            position: absolute;
            left: 10mm;
            bottom: 10mm;
            width: 40mm;
            height: 25mm;
            z-index: 10;
        }

        .seal {
            max-width: 100%;
            max-height: 100%;
            text-align: center;
            line-height: 40mm;
            color: blue;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .bottom-left-box {
            position: absolute;
            bottom: 40mm;
            left: 40mm;
            border: 2px solid black;
            padding: 10px;
            width: 300px;
            text-align: left;
            height: auto;
        }

        .bottom-left-box p {
            margin: 3px 0;
        }

        .bottom-left-box .blue-text {
            color: blue;
        }

        #prompt-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            width: 320px;
        }

        #prompt-container label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        #prompt-container input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
            transition: border-color 0.3s ease;
        }

        #prompt-container input:focus {
            outline: none;
            border-color: #2196F3;
            box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);
        }

        #generate-button {
            width: 100%;
            padding: 12px;
            background-color: #2E8B57;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform .05s ease;
            box-shadow: 0 6px 14px rgba(46,139,87,0.25);
        }

        #generate-button:hover {
            background-color: #228B22;
            transform: translateY(-1px);
        }
    </style>
</head>

<body>
    <div id="prompt-container">
        <label for="payee">Payee Name:</label><br>
        <input type="text" id="payee"><br>
        <label for="amount">Amount:</label><br>
        <input type="number" id="amount"><br>
        <label for="work">Name of Work:</label><br>
        <input type="text" id="work"><br>
        <button id="generate-button">Generate Receipt</button>
    </div>

    <div class="container" id="receipt-content"></div>

    <script>
        // Celebration balloons
        (function addBalloonStyles(){ if (document.getElementById('balloon-styles')) return; const css = `
.balloons-container{position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:9999}
.balloon{position:absolute;bottom:-10%;width:22px;height:28px;border-radius:50% 50% 45% 45%;opacity:.9;animation:floatUp linear forwards}
.balloon:after{content:'';position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);width:2px;height:10px;background:rgba(0,0,0,.2)}
@keyframes floatUp{to{transform:translateY(-120vh)}}
`; const style = document.createElement('style'); style.id='balloon-styles'; style.textContent = css; document.head.appendChild(style); })();
        function triggerBalloons(total=24){ const colors=['#2E8B57','#3CB371','#20B2AA','#66CDAA','#90EE90','#32CD32','#228B22','#7FFFD4']; const cont=document.createElement('div'); cont.className='balloons-container'; document.body.appendChild(cont); for(let i=0;i<total;i++){ const b=document.createElement('div'); b.className='balloon'; const size=18+Math.random()*18; b.style.width=size+'px'; b.style.height=size*1.25+'px'; b.style.left=(Math.random()*100)+'%'; const dur=5+Math.random()*3; b.style.animationDuration=dur+'s'; b.style.animationDelay=(Math.random()*0.8)+'s'; b.style.background=colors[Math.floor(Math.random()*colors.length)]; cont.appendChild(b);} setTimeout(()=>{cont.remove();}, 8000); }
        function convertNumberToWords(num) {
            const ones = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine"];
            const tens = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];
            const teens = ["Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];
            const crore = " Crore ";
            const lakh = " Lakh ";
            const thousand = " Thousand ";
            const hundred = " Hundred ";
            const and = " and ";

            if (num === 0) return "Zero";

            let words = "";

            if (Math.floor(num / 10000000)) {
                words += convertNumberToWords(Math.floor(num / 10000000)) + crore;
                num %= 10000000;
            }

            if (Math.floor(num / 100000)) {
                words += convertNumberToWords(Math.floor(num / 100000)) + lakh;
                num %= 100000;
            }

            if (Math.floor(num / 1000)) {
                words += convertNumberToWords(Math.floor(num / 1000)) + thousand;
                num %= 1000;
            }

            if (Math.floor(num / 100)) {
                words += convertNumberToWords(Math.floor(num / 100)) + hundred;
                num %= 100;
            }

            if (num > 0) {
                if (words !== "") words += and;
                if (num < 10) words += ones[num];
                else if (num < 20) words += teens[num - 10];
                else {
                    words += tens[Math.floor(num / 10)];
                    if (num % 10 > 0) words += " " + ones[num % 10];
                }
            }

            return words;
        }

        function generateReceiptHTML(payee, amount, work) {
            const amountInWords = convertNumberToWords(parseFloat(amount));
            return `
                <div class="header">
                    <h2>Payable to: - ${payee} ( Electric Contractor)</h2>
                    <h2>HAND RECEIPT (RPWA 28)</h2>
                    <p>(Referred to in PWF&A Rules 418,424,436 & 438)</p>
                    <p>Division - PWD Electric Division, Udaipur</p>
                </div>
                <div class="details">
                    <p>(1)Cash Book Voucher No. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Date &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
                    <p>(2)Cheque No. and Date &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
                    <p>(3) Pay for ECS Rs.${amount}/- (Rupees <span id="amount-words" class="amount-words">${amountInWords} only</span>)</p>
                    <p>(4) Paid by me</p>
                    <p>(5) Received from The Executive Engineer PWD Electric Division, Udaipur the sum of Rs. ${amount}/- (Rupees <span id="amount-words" class="amount-words">${amountInWords} only</span>)</p>
                    <p> Name of work for which payment is made: <span id="work-name" class="input-field">${work}</span></p>
                    <p> Chargeable to Head:- 8443 [EMD-Refund] </p>   
                    <table class="signature-area">
                        <tr>
                            <td>Witness</td>
                            <td>Stamp</td>
                            <td>Signature of payee</td>
                        </tr>
                        <tr>
                            <td>Cash Book No. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Page No. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                    <table class="offices">
                        <tr>
                            <td>For use in the Divisional Office</td>
                            <td>For use in the Accountant General's office</td>
                        </tr>
                        <tr>
                            <td>Checked</td>
                            <td>Audited/Reviewed</td>
                        </tr>
                        <tr>
                            <td>Accounts Clerk</td>
                            <td>
                                DA &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp  Auditor &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp  Supdt. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp  G.O.
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="seal-container">
                    <div class="seal">
                        <p></p>
                        <p></p>
                        <p></p>
                    </div>
                </div>
                <div class="bottom-left-box">
                    <p class="blue-text"> Passed for Rs. ${amount}</p>
                    <p class="blue-text"> In Words Rupees: ${amountInWords} Only</p>
                    <p class="blue-text"> Chargeable to Head:- 8443 [EMD-Refund]</p>
                    <div class="seal">
                        <p>Ar.</p>
                        <p>D.A.</p>
                        <p>E.E.</p>
                    </div>
                </div>
            `;
        }

        document.getElementById('generate-button').addEventListener('click', function() {
            const enteredPayee = document.getElementById('payee').value;
            const enteredAmount = parseFloat(document.getElementById('amount').value);
            const enteredWork = document.getElementById('work').value;
            if (enteredPayee && !isNaN(enteredAmount) && enteredWork) {
                const receiptHTML = generateReceiptHTML(enteredPayee, enteredAmount, enteredWork);
                document.getElementById('receipt-content').innerHTML = receiptHTML;
                document.getElementById('prompt-container').style.display = 'none';
                try{ triggerBalloons(); triggerConfetti(); }catch(e){}
                setTimeout(function() {
                    window.print();
                }, 100);
            } else {
                alert("Please provide all required information. Amount must be a number.");
            }
        });
    </script>
</body>
</html>
